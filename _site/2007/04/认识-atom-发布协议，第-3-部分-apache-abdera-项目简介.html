<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>认识 Atom 发布协议，第 3 部分: Apache Abdera 项目简介 | 佳音的博客</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="认识 Atom 发布协议，第 3 部分: Apache Abdera 项目简介" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="方乃做人之本，圆乃处世之道." />
<meta property="og:description" content="方乃做人之本，圆乃处世之道." />
<link rel="canonical" href="http://localhost:4000/2007/04/%E8%AE%A4%E8%AF%86-atom-%E5%8F%91%E5%B8%83%E5%8D%8F%E8%AE%AE,%E7%AC%AC-3-%E9%83%A8%E5%88%86-apache-abdera-%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B.html" />
<meta property="og:url" content="http://localhost:4000/2007/04/%E8%AE%A4%E8%AF%86-atom-%E5%8F%91%E5%B8%83%E5%8D%8F%E8%AE%AE,%E7%AC%AC-3-%E9%83%A8%E5%88%86-apache-abdera-%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B.html" />
<meta property="og:site_name" content="佳音的博客" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2007-04-17T18:37:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="认识 Atom 发布协议，第 3 部分: Apache Abdera 项目简介" />
<script type="application/ld+json">
{"headline":"认识 Atom 发布协议，第 3 部分: Apache Abdera 项目简介","url":"http://localhost:4000/2007/04/%E8%AE%A4%E8%AF%86-atom-%E5%8F%91%E5%B8%83%E5%8D%8F%E8%AE%AE,%E7%AC%AC-3-%E9%83%A8%E5%88%86-apache-abdera-%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B.html","dateModified":"2007-04-17T18:37:00+08:00","datePublished":"2007-04-17T18:37:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2007/04/%E8%AE%A4%E8%AF%86-atom-%E5%8F%91%E5%B8%83%E5%8D%8F%E8%AE%AE,%E7%AC%AC-3-%E9%83%A8%E5%88%86-apache-abdera-%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B.html"},"description":"方乃做人之本，圆乃处世之道.","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="佳音的博客" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">佳音的博客</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/">My Blog</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">认识 Atom 发布协议，第 3 部分: Apache Abdera 项目简介</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2007-04-17T18:37:00+08:00" itemprop="datePublished">Apr 17, 2007
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <table>
  <tbody>
    <tr>
      <td><img src="http://www.ibm.com/i/c.gif" alt="" /></td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td> </td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td> </td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td> </td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><img src="http://www.ibm.com/i/c.gif" alt="" /></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<font color="#5c81a7" size="2"></font>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>级别: 中级</p>

<p><a href="http://www.ibm.com/developerworks/cn/xml/x-atompp3/index.html#author"><font color="#996699">James Snell</font></a> (<a href="mailto:jasnell@us.ibm.com?subject=Apache Abdera 项目简介&amp;cc=dwxed@us.ibm.com"><font color="#5c81a7">jasnell@us.ibm.com</font></a>), 软件工程师, IBM</p>

<p>2007 年 1 月 26 日</p>

<blockquote>
  <p>本系列的前几期介绍了 Atom 发布协议（Publishing Protocol），描述了在实际应用程序中使用的各种方式。本文将举例说明如何使用一个新的开放源代码项目 Abdera 实现支持 Atom 的应用程序，该项目目前处于 Apache Software Foundation 孵化阶段。</p>

  <p>本文假设您已经阅读过 Atom Format 规范，对连锁有一定了解（请参阅 <a href="http://www.ibm.com/developerworks/cn/xml/x-atompp3/index.html#resources"><font color="#996699">参考资料</font></a>）。所有的例子都是用 Java 编写，并提供了包含全部代码例子的 Eclipse 项目供您下载。</p>
</blockquote>

<font color="#000000">开始</font>

<p>首先要保证安装了 Apache Abdera 的当前版本。源代码可以从 Apache Subversion 资料库（<a href="http://svn.apache.org/repos/asf/incubator/abdera/java/branches/0.2.0-incubating/"><font color="#5c81a7">http://svn.apache.org/repos/asf/incubator/abdera/java/branches/0.2.0-incubating/</font></a>）下载。要检索源代码，需要安装 subversion 客户机并使用下面的命令：</p>

<p>|</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; svn co http://svn.apache.org/repos/asf/incubator/abdera/java/branches/0.2.0-incubating/
</code></pre></div></div>
<p>|</p>

<p>下载源代码镜像之后，就可以使用 Ant 1.6.5 或更高版本构建 Abdera 了。</p>

<p>|</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; cd trunk
&gt; ant -f build/build.xml dist
</code></pre></div></div>
<p>|</p>

<p>构建完成之后，编译后的 jar 和依赖关系文件存放在新建的 “dist” 目录中。运行本文中的例子需要在类路径中包含下列 jar。并非所有例子都需要依赖关系列表中的全部 jar：</p>

<caption>
<strong><font color="#ffffff">表 1. 运行示例需要的 jar</font></strong> </caption>
<p>| Abdera (dist) | 依赖关系（dist/lib） |
| — | — |
|</p>
<ul>
  <li>abdera.client.0.2.0-incubating.jar</li>
  <li>abdera.core.0.2.0-incubating.jar</li>
  <li>abdera.parser.0.2.0-incubating.jar</li>
  <li>abdera.protocol.0.2.0-incubating.jar 
 |</li>
  <li>axiom-api-1.0.jar</li>
  <li>axiom-impl-1.0.jar</li>
  <li>commons-codec-1.3.jar</li>
  <li>commons-httpclient-3.0.1.jar</li>
  <li>commons-logging-1.0.4.jar</li>
  <li>geronimo-activation_1.0.2_spec-1.1.jar</li>
  <li>log4j-1.2.12.jar</li>
  <li>stax-1.1.2-dev.jar</li>
  <li>stax-api-1.0.jar</li>
  <li>jaxen-1.1-beta-7.jar 
 |</li>
</ul>

<font color="#000000">起步</font>

<p>Abdera 项目包含一组独立的模块，下表按字母顺序列出了这些模块。当然，最重要也是最常用的模块是 core、dependencies 和 parser：</p>

<caption>
<strong><font color="#ffffff">表 2. Apache Abdera 项目模块</font></strong> </caption>
<p>| 模块 | 说明 | 依赖关系 |
| — | — | — |
| build | 整个项目的 Ant 构建 | Apache Ant 1.6.5+ |
| client | Atom Publishing Protocol Client | core, parser, protocol, commons-codec-1.3.jar, commons-httpclient-3.0.1.jar |
| core | Feed Object Model 接口 | Java Activation Framework, commons-logging-1.0.4.jar, log4j-1.2.12.jar |
| dependencies | 所有模块共用的依赖关系 | |
| extensions | 提要语法和协议扩展 | core, protocol, json-1.0.jar |
| parser | StAX 和基于 Axiom 的默认 Feed Object Model （FOM）实现 | core, axiom-api-1.0.jar, axiom-impl-1.0.jar, stax-1.1.2-dev.jar, stax-api-1.0.jar, jaxen-1.1-beta-7.jar |
| protocol | Common Atom Publishing Protocol 代码 | core, parser |
| security | XML Digital Signature 和 Encryption 支持 | core, parser, xmlsec-1.3.0.jar, Bouncy Castle JCE 实现 |
| server | Atom Publishing Protocol 服务器实现 | core, parser, protocol, Servlet API |</p>

<p>下表列出了 core 模块中的包，该模块定义了 Abdera 所称的 “Feed Object Model”，它是按照 Atom Syndication Format 规范建模的一组接口，用于解析、创建和操作 Atom 文档。</p>

<caption>
<strong><font color="#ffffff">表 3. Abdera “core” 模块中的包</font></strong> </caption>
<p>| 包 | 说明 |
| — | — |
| org.apache.abdera | 主包，包含一个 “Abdera” 对象 |
| org.apache.abdera.factory | 定义了创建新的 Feed Object Model 对象实例的 Factory 接口 |
| org.apache.abdera.filter | 定义了在解析过程中筛选 ATom 文档的接口 |
| org.apache.abdera.model | 定义了处理 Atom Feed 和 Entry 文档的基本接口，该模型还包括处理 Atom Publishing Protocol Service 和 Category 文档的支持。 |
| org.apache.abdera.parser | 定义了从 XML 文档创建 Feed Object Model 新的对象实例的 Parser 接口 |
| org.apache.abdera.util | 提供了各种工具类，主要针对希望扩展或替换 Abdera 默认解析器和工厂实现的开发人员 |
| org.apache.abdera.writer | 定义了用于序列化 Feed Object Model 对象实例的 Write 接口 |
| org.apache.abdera.xpath | 定义了使用 XPath 导航 Feed Object Model 的接口 |</p>

<p>下载并构建 Abdera 源代码后，如果需要的话，可以花点时间通过浏览构建过程中生成的 Javadoc 文档（位于创建的 $ABDERA_HOME/dist/docs 目录下）来熟悉这种 API。</p>

<font color="#000000">创建记录和提要</font>

<p>Abdera Feed Object Model 的两个主要功能是简化 Atom 提要和记录文档的生产与消费。</p>

<p>创建 Atom 文档首先要获得 org.apache.abdera.factory.Factory 的实例并设置提要或记录的属性。清单 1 显示了一个简单 Atom Entry Document 的创建：</p>

<p><strong><font color="#000000">清单 1. 创建简单的 Atom Entry 文档</font></strong></p>

<p>|</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>
<p>|</p>


  </div><a class="u-url" href="/2007/04/%E8%AE%A4%E8%AF%86-atom-%E5%8F%91%E5%B8%83%E5%8D%8F%E8%AE%AE,%E7%AC%AC-3-%E9%83%A8%E5%88%86-apache-abdera-%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">佳音的博客</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">佳音的博客</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/zhangjiayin"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">zhangjiayin</span></a></li><li><a href="https://www.twitter.com/zhangjiayin"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">zhangjiayin</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>方乃做人之本，圆乃处世之道.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
