<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Implementing MVC in PHP: The View | 佳音的博客</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Implementing MVC in PHP: The View" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Implementing MVC in PHP: The View" />
<meta property="og:description" content="Implementing MVC in PHP: The View" />
<link rel="canonical" href="http://localhost:4000/2007/05/implementing-mvc-in-php-the-view.html" />
<meta property="og:url" content="http://localhost:4000/2007/05/implementing-mvc-in-php-the-view.html" />
<meta property="og:site_name" content="佳音的博客" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2007-05-16T10:39:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Implementing MVC in PHP: The View" />
<script type="application/ld+json">
{"headline":"Implementing MVC in PHP: The View","url":"http://localhost:4000/2007/05/implementing-mvc-in-php-the-view.html","dateModified":"2007-05-16T10:39:00+08:00","datePublished":"2007-05-16T10:39:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2007/05/implementing-mvc-in-php-the-view.html"},"description":"Implementing MVC in PHP: The View","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="佳音的博客" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">佳音的博客</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Implementing MVC in PHP: The View</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2007-05-16T10:39:00+08:00" itemprop="datePublished">May 16, 2007
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="implementing-mvc-in-php-the-view">Implementing MVC in PHP: The View</h2>

<p>by <a href="http://www.onlamp.com/pub/au/1234">Joe Stump</a><br />
01/26/2006</p>

<p>This is the third article in a series about understanding MVC in PHP. The first article explained <a href="http://www.onlamp.com/pub/a/php/2005/09/15/mvc_intro.html"><font color="#800080">basics of MVC programming in PHP</font></a>. The second article showed the <a href="http://www.onlamp.com/php/2005/11/03/mvc_controller.html">implementation of the Controller in MVC</a>. The final article is <a href="http://www.onlamp.com/pub/a/php/2006/03/02/mvc_model.html">Implementing MVC in PHP: The Model</a>.</p>

<p><a href="http://ad.doubleclick.net/click;h=v8/3554/0/0/%2a/u;94292064;1-0;0;14651468;4252-336/280;19939645/19957539/1;;~aopt=2/0/ff/0;~sscs=%3fhttp://conferences.oreillynet.com/rails/"><img src="http://m1.2mdn.net/viewad/1319813/Rails07_general_336x280.jpg" alt="Click here to find out more!" /></a></p>

<p>The presentation layer, as I call it, is the View, in common MVC terms. Its sole responsibility is to display information. It could care less about authenticating users, what the data is or, for the most part, where it came from. The only thing it has to worry about is how to render it and where to send it once rendered.</p>

<p>By default, the framework uses <a href="http://smarty.php.net/">Smarty</a> to render the framework. I’m not here to argue semantics, but your presentation layer should consist of a template engine of some sort and a few supporting presentation layers.</p>

<p>The idea is that, after the Model runs, the framework hands it off to a child of the <code class="language-plaintext highlighter-rouge">FR_Presenter_common</code> class. Actually, the framework uses the <code class="language-plaintext highlighter-rouge">FR_Presenter::factory()</code> to create the presenter. Each presenter should have a <code class="language-plaintext highlighter-rouge">display()</code> method that does the actual rendering. When the factory creates the presenter, it passes the presenter the instance of the model class. The presenter then gets the model’s data using its <code class="language-plaintext highlighter-rouge">getData()</code> method. From there, the presenter is free to present that data however it sees fit.</p>

<h3 id="fr_presenter_smarty"><code class="language-plaintext highlighter-rouge">FR_Presenter_smarty</code></h3>

<p>The way I’ve created my Smarty presenter is a hybrid of two templates. I create a Smarty template, and the outer page template includes the model’s template. The model class’s <code class="language-plaintext highlighter-rouge">$pageTemplateFile</code> can request a particular outer template. If it does not, the default is <em>tpl/default/templates/page.tpl</em>. The <em>page.tpl</em> template then uses the <code class="language-plaintext highlighter-rouge">{$modulePath}</code> and <code class="language-plaintext highlighter-rouge">{$tplFile}</code> directives to include the model’s template. All model templates should reside in <em>modules/example/tpl/</em>.</p>

<p>After assigning the variables, the controller runs Smarty’s display function to render the templates. With little modification, you could wrap these calls with Smarty’s built-in caching as well. By using Smarty, you could enable an output modifier to output <code class="language-plaintext highlighter-rouge">gzip</code>ped code instead of plain HTML.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>


  </div><a class="u-url" href="/2007/05/implementing-mvc-in-php-the-view.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">佳音的博客</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">佳音的博客</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/zhangjiayin"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">zhangjiayin</span></a></li><li><a href="https://www.twitter.com/zhangjiayin"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">zhangjiayin</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>方乃做人之本，圆乃处世之道.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
