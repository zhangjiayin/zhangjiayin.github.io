---
layout: post
title: 关于堆栈
date: 2010-04-04 12:33:31.000000000 +08:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- c语言学习
tags: []
meta:
  aktt_notify_twitter: 'no'
  _edit_last: '1'
  dsq_thread_id: '4543641136'
author: 
permalink: "/2010/04/%e5%85%b3%e4%ba%8e%e5%a0%86%e6%a0%88.html"
---
一个进程的内存空间可以在逻辑上分成3个部份：代码区，静态数据区和动态数据区，静态数据区和动态数据区。动态数据区一般就是“堆栈”。“栈 (stack)”和“堆(heap)”是两种不同的动态数据区，栈是一种线性结构，堆是一种链式结构。进程的每个线程都有私有的“栈”，所以每个线程虽然 代码一样，但本地变量的数据都是互不干扰。一个堆栈可以通过“基地址”和“栈顶”地址来描述。全局变量和静态变量分配在静态数据区，本地变量分配在动态数 据区，即堆栈中。程序通过堆栈的基地址和偏移量来访问本地变量。

通常栈的空间较小不能再栈上分配很大的内存空间（栈只有1-2MB的大小），而堆可以在内存允许的情况下分配大内存空间

栈区（stack）— 由编译器自动分配释放 ，存放函数的参数值，局部变量的值等。其操作方式类似于数据结构中的栈。  
堆区（heap） — 一般由程序员分配释放， 若程序员不释放，程序结束时可能由OS回收 。注意它与数据结构中的堆是两回事

